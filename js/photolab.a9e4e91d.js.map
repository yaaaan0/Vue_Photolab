{"version":3,"sources":["webpack:///./src/views/Photolab.vue?a01d","webpack:///src/views/Photolab.vue","webpack:///./src/views/Photolab.vue?45a3","webpack:///./src/views/Photolab.vue","webpack:///../../../src/components/VForm/VForm.ts","webpack:///../../../src/components/VGrid/VLayout.ts","webpack:///../../../src/components/VItemGroup/VItem.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","model","value","callback","$$v","selected","expression","staticClass","directives","name","rawName","_l","props","index","key","src","p_id","scopedSlots","_u","fn","ref","active","toggle","on","$event","preventDefault","onSubmit","user","account","length","_v","_s","_e","staticRenderFns","data","imgsArr","like","isActive","computed","$store","state","methods","console","log","axios","updated","itemSelector","fitWidth","setTimeout","msnry","layout","mounted","$nextTick","component","VBtn","VForm","VIcon","VImg","VItem","VItemGroup","VLayout","provide","form","inheritAttrs","disabled","lazyValidation","readonly","Boolean","inputs","watchers","errorBag","watch","handler","errors","Object","deep","immediate","watchInput","watcher","input","val","_uid","valid","shouldValidate","validate","filter","reset","resetErrorBag","resetValidation","register","unregister","found","find","i","unwatch","h","novalidate","attrs$","submit","e","$slots","BaseItem","activeClass","required","$scopedSlots","element","default","Array","_b","class"],"mappings":"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","file":"js/photolab.a9e4e91d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"photolab\"}},[(_vm.isLoading === false)?_c('v-item-group',{attrs:{\"multiple\":\"\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('div',{staticClass:\"grid\"},[_c('Photoswipe',{attrs:{\"bubble\":\"\"}},[_c('div',{directives:[{name:\"masonry\",rawName:\"v-masonry\",value:(_vm.containerId),expression:\"containerId\"}],attrs:{\"transition-duration\":\"0.3s\",\"item-selector\":\".item\"}},_vm._l((_vm.imgsArr),function(props,index){return _c('div',{directives:[{name:\"masonry-tile\",rawName:\"v-masonry-tile\"}],key:index,staticClass:\"item\"},[_c('v-img',{directives:[{name:\"pswp\",rawName:\"v-pswp\",value:(props),expression:\"props\"}],attrs:{\"src\":props.src}}),_c('v-item',{attrs:{\"value\":props.p_id},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit(props,active)}}},[(_vm.user.account.length > 0 )?_c('v-btn',{attrs:{\"icon\":\"\",\"type\":\"submit\"},on:{\"click\":toggle}},[_c('v-icon',{attrs:{\"color\":\"rgba(255, 255, 255, 0.7)\"}},[_vm._v(_vm._s(active ? 'mdi-heart' : 'mdi-heart-outline'))])],1):_vm._e()],1)]}}],null,true)})],1)}),0)])],1)])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n#photolab\n  //- v-item-group(v-if='isLoading === true' v-model=\"selected\" multiple)\n  //-     v-layout(justify-center)\n  //-       div.grid\n  //-         .item(v-masonry-tile v-for='(props, index) in imgsArr')\n  //-           v-skeleton-loader(v-bind='attrs' type='image' width='300')\n  //- v-item-group(v-if='isLoading === false' v-model=\"selected\" multiple)\n  //-     v-layout(justify-center)\n  //-       div.grid\n  //-         Photoswipe(bubble)\n  //-           div(v-masonry=\"containerId\" transition-duration=\"0.3s\" item-selector=\".item\")\n  //-             .item(v-masonry-tile v-for='(props, index) in imgsArr')\n  //-               v-responsive.overflow-y-auto\n  //-                 v-lazy(v-model=\"isActive\" :options=\"{threshold: .5}\" transition=\"fade-transition\")\n  //-                   v-card(width='300')\n  //-                     v-img(:src=\"props.src\" v-pswp=\"props\")\n  //-                     v-item(v-slot=\"{ active, toggle }\" :value=\"props.p_id\")\n  //-                       v-form(@submit.prevent=\"onSubmit(props,active)\")\n  //-                         v-btn(v-if=\"user.account.length > 0 \" icon @click=\"toggle\" type=\"submit\")\n  //-                           v-icon(color='rgba(255, 255, 255, 0.7)') {{ active ? 'mdi-heart' : 'mdi-heart-outline' }}\n  v-item-group(v-if='isLoading === false' v-model=\"selected\" multiple)\n    v-layout(justify-center)\n      div.grid\n        Photoswipe(bubble)\n          div(v-masonry=\"containerId\" transition-duration=\"0.3s\" item-selector=\".item\")\n            .item(v-masonry-tile v-for='(props, index) in imgsArr' :key='index')\n                v-img(:src=\"props.src\" v-pswp=\"props\")\n                v-item(v-slot=\"{ active, toggle }\" :value=\"props.p_id\")\n                  v-form(@submit.prevent=\"onSubmit(props,active)\")\n                    v-btn(v-if=\"user.account.length > 0 \" icon @click=\"toggle\" type=\"submit\")\n                      v-icon(color='rgba(255, 255, 255, 0.7)') {{ active ? 'mdi-heart' : 'mdi-heart-outline' }}\n</template>\n\n<script>\nimport imagesloaded from 'imagesloaded'\nimport Masonry from 'masonry-layout'\n\nexport default {\n  name: 'Photolab',\n  data () {\n    return {\n      imgsArr: [],\n      props: '',\n      selected: [],\n      like: [],\n      isLoading: true,\n      isActive: false,\n    }\n  },\n  computed: {\n    user () {\n      return this.$store.state.user\n    }\n  },\n  methods: {\n    onSubmit (props, active) {\n      if (active === true) {\n        console.log(props)\n        this.axios\n          .post(process.env.VUE_APP_API + '/users/image/' + this.$store.state.user.id, props)\n          .then(res => {\n            if (res.data.success) {\n              this.active = true\n              // this.$swal({\n              //   icon: 'success',\n              //   title: '收藏',\n              //   showConfirmButton: false,\n              //   timer: 1000\n              // })\n            } else {\n              this.$swal({\n                icon: 'error',\n                title: '發生錯誤',\n                text: res.data.message\n              })\n            }\n          })\n          .catch(err => {\n            this.$swal({\n              icon: 'error',\n              title: '發生錯誤',\n              text: err.response.data.message\n            })\n          })\n      } else if (active === false) {\n        this.axios\n          .delete(process.env.VUE_APP_API + '/users/image/' + this.$store.state.user.id + '/' + props.p_id)\n          .then(res => {\n            if (res.data.success) {\n              this.active = false\n              // this.$swal({\n              //   title: '取消收藏',\n              //   showConfirmButton: false,\n              //   timerProgressBar: true,\n              //   timer: 1000\n              // })\n            } else {\n              this.$swal({\n                icon: 'error',\n                title: '錯誤',\n                text: res.data.message\n              })\n            }\n          })\n          .catch(err => {\n            this.$swal({\n              icon: 'error',\n              title: '錯誤',\n              text: err.response.data.message\n            })\n          })\n      }\n    }\n  },\n  updated () {\n    const grid = document.querySelector('.grid')\n    const msnry = new Masonry(grid, {\n      itemSelector: '.item',\n      fitWidth: 'true'\n    })\n\n    // imagesloaded('.item', () => {\n    //   msnry.layout()\n    // })\n\n    imagesloaded('.item', () => {\n      setTimeout(() => {\n        msnry.layout()\n      }, 1000)\n    })\n\n    // if (window.name === '') {\n    //   console.log('首次被加载')\n    //   window.name = 'isReload'\n    //   imagesloaded('.item', () => {\n    //     setTimeout(() => {\n    //       msnry.layout()\n    //     }, 10000)\n    //   })\n    // } else if (window.name === 'isReload') {\n    //   console.log('页面被刷新')\n    //   imagesloaded('.item', () => {\n    //     setTimeout(() => {\n    //       msnry.layout()\n    //     }, 500)\n    //   })\n    // }\n  },\n  mounted () {\n    this.axios\n      .get(process.env.VUE_APP_API + '/photos/')\n      .then(res => {\n        if (res.data.success) {\n          this.imgsArr = res.data.result.map(item => {\n            item.src = process.env.VUE_APP_API + '/photos/file/' + item.file\n            item.p_id = item._id\n            item.title = item.description\n            return item\n          })\n          this.imgsArr.reverse()\n          // console.log(this.imgsArr)\n        } else {\n          this.$swal({\n            icon: 'error',\n            title: '錯誤',\n            text: res.data.message\n          })\n        }\n      })\n      .catch(err => {\n        if (err.response.data.message === '未登入') {\n          // 登出\n          this.$store.commit('logout')\n          // 導回首頁\n          if (this.$route.path !== '/login') {\n            this.$router.push('/login')\n          }\n        }\n        this.$swal({\n          icon: 'error',\n          title: '錯誤',\n          text: err.response.data.message\n        })\n      })\n    if (this.user.account.length > 0) {\n      this.axios\n        .get(process.env.VUE_APP_API + '/users/image/' + this.user.id)\n        .then(res => {\n          if (res.data.success) {\n            const arry = res.data.result.images\n            for (let i = 0; i < arry.length; i++) {\n              this.selected.push(arry[i].p_id)\n            }\n          } else {\n            this.$swal({\n              icon: 'error',\n              title: '錯誤',\n              text: res.data.message\n            })\n          }\n        })\n        .catch(err => {\n          if (err.response.data.message === '未登入') {\n            // 登出\n            this.$store.commit('logout')\n            // 導回首頁\n            if (this.$route.path !== '/login') {\n              this.$router.push('/login')\n            }\n          }\n          this.$swal({\n            icon: 'error',\n            title: '錯誤',\n            text: err.response.data.message\n          })\n        })\n    }\n    this.$nextTick(() => {\n      this.isLoading = false\n    })\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photolab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photolab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Photolab.vue?vue&type=template&id=4939e05f&lang=pug&\"\nimport script from \"./Photolab.vue?vue&type=script&lang=js&\"\nexport * from \"./Photolab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VItem } from 'vuetify/lib/components/VItemGroup';\nimport { VItemGroup } from 'vuetify/lib/components/VItemGroup';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VForm,VIcon,VImg,VItem,VItemGroup,VLayout})\n","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, this.$slots.default)\n  },\n})\n","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('layout')\n","// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport Vue from 'vue'\nimport { VNode, ScopedSlotChildren } from 'vue/types/vnode'\n\n/* @vue/component */\nexport const BaseItem = Vue.extend({\n  props: {\n    activeClass: String,\n    value: {\n      required: false,\n    },\n  },\n\n  data: () => ({\n    isActive: false,\n  }),\n\n  methods: {\n    toggle () {\n      this.isActive = !this.isActive\n    },\n  },\n\n  render (): VNode {\n    if (!this.$scopedSlots.default) {\n      consoleWarn('v-item is missing a default scopedSlot', this)\n\n      return null as any\n    }\n\n    let element: VNode | ScopedSlotChildren\n\n    /* istanbul ignore else */\n    if (this.$scopedSlots.default) {\n      element = this.$scopedSlots.default({\n        active: this.isActive,\n        toggle: this.toggle,\n      })\n    }\n\n    if (Array.isArray(element) && element.length === 1) {\n      element = element[0]\n    }\n\n    if (!element || Array.isArray(element) || !element.tag) {\n      consoleWarn('v-item should only contain a single element', this)\n\n      return element as any\n    }\n\n    element.data = this._b(element.data || {}, element.tag!, {\n      class: { [this.activeClass]: this.isActive },\n    })\n\n    return element\n  },\n})\n\nexport default mixins(\n  BaseItem,\n  GroupableFactory('itemGroup', 'v-item', 'v-item-group')\n).extend({\n  name: 'v-item',\n})\n"],"sourceRoot":""}
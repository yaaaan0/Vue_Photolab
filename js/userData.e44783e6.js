(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userData"],{"4c93":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return $})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return k}));
/**
  * vee-validate v3.4.5
  * (c) 2020 Abdelrahman Awad
  * @license MIT
  */
var a=function(e,t){var r=t.length;if(Array.isArray(e))return e.every((function(e){return a(e,{length:r})}));var n=String(e);return/^[0-9]*$/.test(n)&&n.length===r},n=[{name:"length",cast:function(e){return Number(e)}}],s={validate:a,params:n},i=function(e,t){var r=(void 0===t?{}:t).multiple,a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r&&!Array.isArray(e)&&(e=String(e).split(",").map((function(e){return e.trim()}))),Array.isArray(e)?e.every((function(e){return a.test(String(e))})):a.test(String(e))},o=[{name:"multiple",default:!1}],l={validate:i,params:o};function u(e){return null===e||void 0===e}function c(e){return Array.isArray(e)&&0===e.length}var d=function(e,t){var r=t.length;return u(e)?r>=0:Array.isArray(e)?e.every((function(e){return d(e,{length:r})})):String(e).length<=r},m=[{name:"length",cast:function(e){return Number(e)}}],f={validate:d,params:m},v=function(e,t){var r=t.length;return!u(e)&&(Array.isArray(e)?e.every((function(e){return v(e,{length:r})})):String(e).length>=r)},h=[{name:"length",cast:function(e){return Number(e)}}],p={validate:v,params:h},b=/^[٠١٢٣٤٥٦٧٨٩]+$/,g=/^[0-9]+$/,y=function(e){var t=function(e){var t=String(e);return g.test(t)||b.test(t)};return Array.isArray(e)?e.every(t):t(e)},$={validate:y},x=function(e,t){var r=t.regex;return Array.isArray(e)?e.every((function(e){return x(e,{regex:r})})):r.test(String(e))},_=[{name:"regex",cast:function(e){return"string"===typeof e?new RegExp(e):e}}],O={validate:x,params:_},j=function(e,t){var r=(void 0===t?{allowFalse:!0}:t).allowFalse,a={valid:!1,required:!0};return u(e)||c(e)?a:!1!==e||r?(a.valid=!!String(e).trim().length,a):a},A=!0,N=[{name:"allowFalse",default:!0}],k={validate:j,params:N,computesRequired:A}},"922f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"userData"}},[r("UData")],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"uData"}},[r("v-app",[r("v-card",[r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[r("v-avatar",{attrs:{size:"100"}},[r("v-icon",{attrs:{size:"100"}},[e._v("mdi-account-circle")])],1),r("v-card-text",[r("validation-provider",{attrs:{name:"Nmae",rules:"required|max:10"},scopedSlots:e._u([{key:"default",fn:function(t){t.errors;return[r("v-text-field",{attrs:{color:"#000000",filled:"",rounded:"",readonly:"",prefix:" 會員帳號｜"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"Nmae",rules:"required|max:10"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{class:{editColor:e.editColor},attrs:{color:"#000000","error-messages":a,filled:"",rounded:"",readonly:e.readonly,prefix:" 會員姓名｜"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"Email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{class:{editColor:e.editColor},attrs:{color:"#000000","error-messages":a,filled:"",rounded:"",readonly:e.readonly,prefix:" 會員信箱｜"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]}}],null,!0)}),r("validation-provider",{attrs:{name:"PhoneNumber",rules:"required|digits:10"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[r("v-text-field",{class:{editColor:e.editColor},attrs:{color:"#000000","error-messages":a,filled:"",rounded:"",readonly:e.readonly,prefix:" 手機號碼｜"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}})]}}],null,!0)})],1),r("v-card-actions",[e.onEdit?r("v-btn",{staticClass:"edit",attrs:{rounded:"",dark:""},on:{click:e.edit}},[r("v-icon",[e._v("mdi-pencil")]),r("p",[e._v("編輯")])],1):e._e(),e.onEdit?e._e():r("v-btn",{staticClass:"save",attrs:{disabled:a,rounded:"",dark:""},on:{click:e.save}},[r("v-icon",[e._v("mdi-check-circle-outline")]),r("p",[e._v("儲存")])],1),e.onEdit?e._e():r("v-btn",{staticClass:"cancel",attrs:{rounded:"",dark:""},on:{click:e.cancel}},[r("v-icon",[e._v("mdi-close-circle-outline")]),r("p",[e._v("取消")])],1)],1)]}}])})],1)],1)],1)},i=[],o=(r("b0c0"),r("5530")),l=r("4c93"),u=r("7bb1");Object(u["d"])("eager"),Object(u["c"])("digits",Object(o["a"])(Object(o["a"])({},l["a"]),{},{message:"{_field_} needs to be {length} digits."})),Object(u["c"])("required",Object(o["a"])(Object(o["a"])({},l["g"]),{},{message:"{_field_} can not be empty"})),Object(u["c"])("max",Object(o["a"])(Object(o["a"])({},l["c"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(u["c"])("min",Object(o["a"])(Object(o["a"])({},l["d"]),{},{message:"{_field_} at least {length} characters"})),Object(u["c"])("regex",Object(o["a"])(Object(o["a"])({},l["f"]),{},{message:"{_field_} must be valid"})),Object(u["c"])("email",Object(o["a"])(Object(o["a"])({},l["b"]),{},{message:"{_field_} must be valid"}));var c={data:function(){return{account:this.$store.state.user.account,name:this.$store.state.user.name,email:this.$store.state.user.email,phoneNumber:this.$store.state.user.phoneNumber,onEdit:!0,readonly:!0,editColor:!1}},computed:{user:function(){return this.$store.state.user}},components:{ValidationProvider:u["b"],ValidationObserver:u["a"]},methods:{edit:function(){this.onEdit=!1,this.readonly=!1,this.text=!0,this.editColor=!0},cancel:function(){this.onEdit=!0,this.readonly=!0,this.editColor=!1,this.name=this.$store.state.user.name,this.email=this.$store.state.user.email,this.phoneNumber=this.$store.state.user.phoneNumber},save:function(){var e=this;this.onEdit=!0,this.readonly=!0,this.editColor=!1,this.axios.patch("https://gp-photolab.herokuapp.com/users/"+this.$store.state.user.id,this.$data).then((function(t){t.data.success?(e.$store.state.user.name=t.data.result.name,e.$store.state.user.email=t.data.result.email,e.$store.state.user.phoneNumber=t.data.result.phoneNumber,e.$swal({icon:"success",title:"資料更新",showConfirmButton:!1,timer:1e3})):(e.$swal({icon:"error",title:"發生錯誤",text:t.data.message}),e.name=e.$store.state.user.name,e.email=e.$store.state.user.email,e.phoneNumber=e.$store.state.user.phoneNumber)})).catch((function(t){e.$swal({icon:"error",title:"發生錯誤",text:t.response.data.message}),e.name=e.$store.state.user.name,e.email=e.$store.state.user.email,e.phoneNumber=e.$store.state.user.phoneNumber}))}},mounted:function(){var e=this;this.axios.get("https://gp-photolab.herokuapp.com/users/"+this.user.id).then((function(t){t.data.success?(e.name=t.data.result.name,e.email=t.data.result.email,e.phoneNumber=t.data.result.phoneNumber):e.$swal({icon:"error",title:"錯誤",text:t.data.message})})).catch((function(t){"未登入"===t.response.data.message&&(e.$store.commit("logout"),"/login"!==e.$route.path&&e.$router.push("/login")),e.$swal({icon:"error",title:"錯誤",text:t.response.data.message})}))}},d=c,m=r("2877"),f=r("6544"),v=r.n(f),h=r("7496"),p=r("8212"),b=r("8336"),g=r("b0af"),y=r("99d9"),$=r("132d"),x=r("8654"),_=Object(m["a"])(d,s,i,!1,null,null,null),O=_.exports;v()(_,{VApp:h["a"],VAvatar:p["a"],VBtn:b["a"],VCard:g["a"],VCardActions:y["a"],VCardText:y["b"],VIcon:$["a"],VTextField:x["a"]});var j={name:"UserData",components:{UData:O}},A=j,N=Object(m["a"])(A,a,n,!1,null,null,null);t["default"]=N.exports}}]);
//# sourceMappingURL=userData.e44783e6.js.map